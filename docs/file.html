<!DOCTYPE html>
<html>
<head>
<title>Files</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
<script src="utils.js"></script>
</head>
<body>
<section class="section">
<h1 class="title">Les files !</h1>
  <article class="message is-info">
  <div class="message-header"><p>Instructions</p></div>
  <div class="message-body">
        <div class="content">
        Vous disposez d'une <strong>file</strong>, pour l'instant vide, qui sera 
        compos√©e d'√©l√©ments pos√©s les uns √† la suite les autres, √† la queue-leu-leu. 
        Vous pouvez la modifier de deux mani√®res :
        <ul>
        <li><strong>Ajouter</strong> un √©l√©ment <em>√† la fin de la file</em>, on dit <strong>enfiler</strong>.</li>
        <li><strong>D√©filer</strong>, c'est-√†-dire enlever l'√©l√©ment qui est <em>au d√©but</em> de la file.</li>
        </ul>
        </div>
        <div class="content">Dans ce document, nous lirons les files de gauche √† droite : le premier √©l√©ment est √† gauche et le dernier √† droite.</div>
        </div>
    </article>        
    
    <article class="message is-success" id="entete-message">
            <div class="message-header">
            <div id="message">Sauriez-vous reconstituter la file ci-dessous ?</div>
            <form>
                <div class="field has-addons ">
                    <div class="control">
                        <div class="button is-static is-success">Enfiler</div>
                    </div>
                    <div class="control">
                        <div class="select"><select id="select" style="display:inline;" onchange="enfiler(this);"></select></div>
                        <!--  -->
                    </div>
                    <div class="control">
                        <div class="button is-static is-success"> ou </div>
                    </div>
                    <div class="control">
                        <div class="button" onclick="enlever();">d√©filer</div>
                    </div>
                </div>
            </form>
            </div>
            <div class="message-body">
                <div class="columns">
                    <div class="column">
                        <div class="block">Votre file</div>
                        <div class="block" id="file_essai"></div>
                    </div>
                    <div class="column">
                        <div class="block">Objectif</div>
                        <div class="block" id="objectif"></div>
                    </div>
                </div>
            </div>
        </article>
</section>
<script>
liste_animaux = ["ü¶ë","ü™≤","üêº","ü¶ä","ü¶ê","ü¶Ü","üêØ","üê∏"];
creer_select(liste_animaux.slice());

var p = new File("ta_file");
p.mettre_dans("file_essai");

var file_objectif = liste_animaux.sort(function () {
  return Math.random() - 0.5;
});
file_objectif = file_objectif.slice(-5);

var q = new File();
for(var c in file_objectif){
    q.enfiler(file_objectif[c]);
}
q.mettre_dans("objectif");

function verifier(elt){
    if (q.est_egal_a(p)){
        document.getElementById("message").innerHTML = "BRAVO ! Rechargez la page pour avoir une nouvelle file.";
        document.getElementById("entete-message").classList.remove("is-success");
        document.getElementById("entete-message").classList.add("is-danger");
    }else{
        document.getElementById("message").innerHTML = "Sauriez-vous reconstituter la file ci-dessous ?";
        document.getElementById("entete-message").classList.add("is-success");
        document.getElementById("entete-message").classList.remove("is-danger");
    }
}

function enfiler(elt){
    if(elt.value.length > 0){
        p.enfiler(elt.value);
        verifier();
    }
}
function enlever(){
    p.defiler();
    verifier();
}
</script>
</body>
</html>
